# 基因序列比对工具 - 使用指南

## 🚀 快速开始

### 1. 启动应用

**方法一：使用启动脚本（推荐）**
```bash
# Windows用户
双击运行 run.bat

# 或在命令行中运行
run.bat
```

**方法二：手动启动**
```bash
# 安装依赖
pip install -r requirements.txt

# 启动应用
python app.py
```

### 2. 访问应用

打开浏览器访问：http://localhost:5000

## 📖 详细使用说明

### 输入方式

#### 方式一：文件上传
1. 选择"文件上传"模式
2. 点击"选择文件"按钮
3. 选择两个FASTA格式文件（.fasta, .fa, .txt）
4. 点击"开始比对"

#### 方式二：文本输入
1. 选择"文本输入"模式
2. 在文本框中粘贴序列
3. 支持FASTA格式或纯序列
4. 点击"开始比对"

### 支持的序列格式

#### FASTA格式
```
>序列描述信息
ATCGATCGATCGATCGATCG
ATCGATCGATCGATCGATCG
```

#### 纯序列格式
```
ATCGATCGATCGATCGATCG
ATCGATCGATCGATCGATCG
```

### 示例数据使用

1. 点击"加载示例序列1"按钮
2. 点击"加载示例序列2"按钮
3. 系统会自动切换到文本输入模式
4. 点击"开始比对"进行测试

## 📊 结果解读

### 统计信息卡片

- **相似度**: 显示两个序列的相似度百分比
- **总位置数**: 比对后的总位置数
- **匹配位置**: 完全匹配的位置数
- **差异位置**: 存在差异的位置数

### 可视化展示

#### 颜色说明
- 🟢 **绿色**: 匹配的碱基/氨基酸
- 🔴 **红色**: 差异的碱基/氨基酸
- ⚪ **灰色**: 缺失位置（gap）

#### 比对指示线
- **|**: 表示匹配位置
- **×**: 表示差异位置
- **-**: 表示缺失位置

### 差异详情表格

| 列名 | 说明 |
|------|------|
| 位置 | 差异在序列中的位置 |
| 序列1 | 第一个序列在该位置的字符 |
| 序列2 | 第二个序列在该位置的字符 |
| 类型 | 差异类型（错配/缺失） |

## 🔧 高级功能

### 键盘快捷键

- **Ctrl + Enter**: 开始比对
- **Escape**: 清除结果

### 结果导出

比对完成后，可以：
1. 查看详细的统计信息
2. 分析可视化结果
3. 查看差异详情表格

## ⚠️ 注意事项

### 文件限制
- 最大文件大小：16MB
- 支持格式：.fasta, .fa, .txt

### 序列要求
- 支持核苷酸序列：ATCGU（大小写均可）
- 支持氨基酸序列：ACDEFGHIKLMNPQRSTVWY（大小写均可）
- 自动过滤非字母字符（数字、空格等）

### 性能建议
- 建议序列长度不超过10,000个字符
- 长序列比对需要更多时间，请耐心等待

## 🐛 常见问题

### Q1: 提示"序列包含无效字符"
**A**: 检查序列是否只包含有效的核苷酸或氨基酸字符，移除数字、空格等非字母字符。

### Q2: 提示"无法解析序列"
**A**: 确保FASTA格式正确（描述行以>开头），或检查文件编码是否为UTF-8。

### Q3: 比对速度很慢
**A**: 长序列比对需要更多时间，建议序列长度不超过10,000个字符。

### Q4: 浏览器显示异常
**A**: 请使用现代浏览器（Chrome、Firefox、Safari、Edge），并确保JavaScript已启用。

### Q5: 应用无法启动
**A**: 
1. 检查Python版本是否为3.7+
2. 确保已安装所有依赖：`pip install -r requirements.txt`
3. 检查端口5000是否被占用

## 📞 技术支持

如果遇到问题，请：
1. 查看控制台错误信息
2. 检查浏览器开发者工具
3. 尝试使用示例数据测试
4. 联系技术支持

## 🎯 使用技巧

1. **使用示例数据**: 首次使用时建议先测试示例数据
2. **文件命名**: 给FASTA文件起有意义的名称，便于识别
3. **结果保存**: 可以截图保存重要的比对结果
4. **批量处理**: 对于多个序列，可以逐个进行比对

---

**祝您使用愉快！** 🧬✨ 